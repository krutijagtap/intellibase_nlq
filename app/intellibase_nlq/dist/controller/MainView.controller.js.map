{"version":3,"file":"MainView.controller.js","names":["sap","ui","define","Controller","JSONModel","Filter","FilterOperator","StandardListItem","MessageBox","BusyDialog","extend","onInit","async","this","_oODataModel","getOwnerComponent","getModel","_oCategoryModel","_oProductModel","getView","setModel","_oCategorySelect","byId","_oProductSelect","_oPromptList","loadCategories","loadProducts","loadPrompts","oBinding","bindContext","execute","result","getBoundContext","getObject","aCategories","value","unshift","category","oJSONModel","aProducts","product","aFilters","push","EQ","getBinding","filter","bindItems","path","template","title","description","filters","onCategoryChange","oEvent","selectedCategory","getParameter","getKey","selectedProduct","getSelectedKey","onProductChange","onSelectPrompt","setVisible","setContent","oContext","getBindingContext","oData","sPrompt","prompt","oModel","oFunction","setParameter","oResult","keyEntries","Object","entries","key","startsWith","aKeyFields","map","index","replace","number","obj","toLowerCase","indexOf","Boolean","sort","a","b","i","sHighlightedPrompt","highlightKeywords","setValue","colors","sLegendHtml","k","color","length","join","err","console","error","sPromptText","highlightedText","forEach","keyword","safeKeyword","regex","RegExp","match","onSearchLive","getBaseUrl","require","toUrl","fetchCsrfToken","url","response","fetch","method","credentials","headers","token","get","onPressButton","userInput","getValue","oView","sInput","trim","oBusyDialog","m","text","open","setBusy","Promise","resolve","resp","onfetchData","close","log","chatUrl","thisUser","payload","csrf","controller","AbortController","timeout","setTimeout","abort","user","ok","userDetails","json","bankId","name","message","pl","req","JSON","stringify","body","clearTimeout","Error","status","data","isHTMlString","FINAL_RESULT","test","finalres","SQL_QUERY","onChatCopy","oChatBox","domRef","getDomRef","MessageToast","show","innerText","navigator","clipboard","writeText","then","catch","onChatExport","window","jspdf","html2canvas","jsPDF","plainText","wrapper","document","createElement","style","width","padding","background","fontFamily","position","top","left","appendChild","userInputBox","borderRadius","marginBottom","border","headerText","textContent","fontSize","fontWeight","userInputText","responseClone","cloneNode","margin","requestAnimationFrame","canvas","scale","useCORS","scrollY","windowWidth","scrollWidth","height","scrollHeight","imgData","toDataURL","pdf","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","imgWidth","imgHeight","heightLeft","addImage","addPage","save","removeChild","onPressReset","oCatSelect","oProdSelect","setSelectedKey","editablePrompt","oLegend","oHtmlContent","oChatBotResult","setText"],"sources":["MainView-dbg.controller.js"],"mappings":"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","ignoreList":[]}