{"version":3,"file":"MainView.controller.js","names":["sap","ui","define","Controller","JSONModel","Filter","FilterOperator","StandardListItem","MessageBox","BusyDialog","extend","onInit","async","this","_oODataModel","getOwnerComponent","getModel","_oCategoryModel","_oProductModel","getView","setModel","_oCategorySelect","byId","_oProductSelect","_oPromptList","loadCategories","loadProducts","loadPrompts","oBinding","bindContext","execute","result","getBoundContext","getObject","aCategories","value","unshift","category","oJSONModel","aProducts","product","aFilters","push","EQ","getBinding","filter","bindItems","path","template","title","description","filters","onCategoryChange","oEvent","selectedCategory","getParameter","getKey","selectedProduct","getSelectedKey","onProductChange","onSelectPrompt","setContent","oContext","getBindingContext","oData","sPrompt","prompt","oModel","oFunction","setParameter","oResult","keyEntries","Object","entries","key","startsWith","aKeyFields","map","index","replace","number","obj","toLowerCase","indexOf","Boolean","sort","a","b","i","sHighlightedPrompt","highlightKeywords","setValue","colors","sLegendHtml","k","color","length","join","err","console","error","sPromptText","highlightedText","forEach","keyword","safeKeyword","regex","RegExp","match","onSearchLive","getBaseUrl","require","toUrl","fetchCsrfToken","url","response","fetch","method","credentials","headers","token","get","onPressButton","userInput","getValue","oView","sInput","trim","oBusyDialog","m","text","open","setBusy","Promise","resolve","res","close","onfetchData","chatUrl","thisUser","payload","csrf","controller","AbortController","timeout","setTimeout","abort","user","ok","userDetails","json","bankId","name","message","req","JSON","stringify","body","clearTimeout","Error","status","data","isHTMlString","FINAL_RESULT","test","finalres","SQL_QUERY","log","onChatCopy","oChatBox","domRef","getDomRef","MessageToast","show","innerText","navigator","clipboard","writeText","then","catch","onChatExport","window","jspdf","html2canvas","jsPDF","plainText","wrapper","document","createElement","style","width","padding","background","fontFamily","position","top","left","appendChild","userInputBox","borderRadius","marginBottom","border","headerText","textContent","fontSize","fontWeight","userInputText","responseClone","cloneNode","margin","requestAnimationFrame","canvas","scale","useCORS","scrollY","windowWidth","scrollWidth","height","scrollHeight","imgData","toDataURL","pdf","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","imgWidth","imgHeight","heightLeft","addImage","addPage","save","removeChild","onPressReset","oCatSelect","oProdSelect","setSelectedKey","editablePrompt","oLegend","oHtmlContent","oChatBotResult","setText"],"sources":["MainView-dbg.controller.js"],"mappings":"AAAAA,IAAIC,GAAGC,OAAO,CACV,6BACA,8BACA,sBACA,8BACA,yBACA,mBACA,mBACA,6BACA,8BACA,sCACD,CAACC,EAAYC,EAAWC,EAAQC,EAAgBC,EAAkBC,EAAYC,KAC7E,aAEA,OAAON,EAAWO,OAAO,qCAAsC,CAC3DC,OAAQC,iBACJC,KAAKC,aAAeD,KAAKE,oBAAoBC,WAE7CH,KAAKI,gBAAkB,IAAIb,EAC3BS,KAAKK,eAAiB,IAAId,EAC1BS,KAAKM,UAAUC,SAASP,KAAKI,gBAAiB,mBAC9CJ,KAAKM,UAAUC,SAASP,KAAKK,eAAgB,iBAG7CL,KAAKQ,iBAAmBR,KAAKS,KAAK,kBAClCT,KAAKU,gBAAkBV,KAAKS,KAAK,iBACjCT,KAAKW,aAAeX,KAAKS,KAAK,oBAGxBT,KAAKY,uBACLZ,KAAKa,eACXb,KAAKc,YAAY,iBAAkB,eACvC,EAGAF,eAAgBb,iBACZ,MAAMgB,EAAWf,KAAKC,aAAae,YAAY,kCAEzCD,EAASE,UACf,MAAMC,EAASH,EAASI,kBAAkBC,YAE1C,MAAMC,EAAcH,EAAOI,OAAS,GACpCD,EAAYE,QAAQ,CAAEC,SAAU,mBAEhC,MAAMC,EAAa,IAAIlC,EAAU8B,GACjCrB,KAAKM,UAAUC,SAASkB,EAAY,aACxC,EAGAZ,aAAcd,eAAgByB,GAC1B,MAAMT,EAAWf,KAAKC,aAAae,YAAY,gCAEzCD,EAASE,UACf,MAAMC,EAASH,EAASI,kBAAkBC,YAE1C,MAAMM,EAAYR,EAAOI,OAAS,GAClCI,EAAUH,QAAQ,CAAEI,QAAS,iBAE7B,MAAMF,EAAa,IAAIlC,EAAUmC,GACjC1B,KAAKM,UAAUC,SAASkB,EAAY,WACxC,EAGAX,YAAa,SAAUU,EAAUG,GAC7B,MAAMC,EAAW,GACjB,GAAIJ,GAAYA,IAAa,iBAAkB,CAC3CI,EAASC,KAAK,IAAIrC,EAAO,WAAYC,EAAeqC,GAAIN,GAC5D,CACA,GAAIG,GAAWA,IAAY,eAAgB,CACvCC,EAASC,KAAK,IAAIrC,EAAO,UAAWC,EAAeqC,GAAIH,GAC3D,CACA,MAAMZ,EAAWf,KAAKW,aAAaoB,WAAW,SAC9C,GAAIhB,EAAU,CACVA,EAASiB,OAAOJ,EACpB,KAAO,CACH5B,KAAKW,aAAasB,UAAU,CACxBC,KAAM,eACNC,SAAU,IAAIzC,EAAiB,CAC3B0C,MAAO,WACPC,YAAa,kBAEjBC,QAASV,GAEjB,CACJ,EAGAW,iBAAkB,SAAUC,GACxB,MAAMC,EAAmBD,EAAOE,aAAa,iBAAiBC,SAM9D,MAAMC,EAAkB5C,KAAKU,gBAAgBmC,iBAC7C7C,KAAKc,YAAY2B,EAAkBG,EACvC,EAGAE,gBAAiB,SAAUN,GACvB,MAAMI,EAAkBJ,EAAOE,aAAa,iBAAiBC,SAC7D,MAAMF,EAAmBzC,KAAKQ,iBAAiBqC,iBAE/C7C,KAAKc,YAAY2B,EAAkBG,EACvC,EACAG,eAAgBhD,eAAgByC,GAC5BxC,KAAKS,KAAK,iBAAiBuC,WAAW,IACtC,MAAMC,EAAWT,EAAOE,aAAa,YAAYQ,oBACjD,MAAMC,EAAQF,EAAS7B,YACvB,MAAMgC,EAAUD,EAAME,OACtB,MAAMC,EAAStD,KAAKM,UAAUH,WAC9B,MAAMoD,EAAYD,EAAOtC,YAAY,mBACrCuC,EAAUC,aAAa,SAAUJ,GAEjC,UACUG,EAAUtC,UAChB,MAAMwC,EAAUF,EAAUpC,kBAAkBC,YAG5C,MAAMsC,EAAaC,OAAOC,QAAQH,GAC7BzB,OAAO,EAAE6B,EAAKvC,KAAWuC,EAAIC,WAAW,QAAUxC,GAEvD,IAAIyC,EAAaL,EAAWM,IAAI,EAAEH,EAAKvC,GAAQ2C,KAAU,CACrD3C,QACAe,YAAaoB,EAAQI,EAAIK,QAAQ,MAAO,QACxCC,OAAQF,EAAQ,KAIpBF,EAAaA,EACRC,IAAII,IACD,MAAMH,EAAQb,EAAQiB,cAAcC,QAAQF,EAAI9C,MAAM+C,eACtD,OAAOJ,GAAS,EAAI,IAAKG,EAAKH,SAAU,OAE3CjC,OAAOuC,SACPC,KAAK,CAACC,EAAGC,IAAMD,EAAER,MAAQS,EAAET,OAC3BD,IAAI,CAACI,EAAKO,KAAM,IAAMP,EAAKD,OAAQQ,EAAI,KAG5C,MAAMC,EAAqB5E,KAAK6E,kBAAkBzB,EAASW,GAC3D/D,KAAKS,KAAK,kBAAkBqE,SAASF,GAGrC,MAAMG,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,WAC5D,MAAMC,EAAcjB,EACf/B,OAAOiD,GAAKA,EAAE5C,aACd2B,IAAI,CAACiB,EAAGN,KACL,MAAMO,EAAQH,EAAOJ,EAAII,EAAOI,QAChC,MAAO,oOAIgBD,sTAOnBD,EAAEd,uHAEAc,EAAE5C,+FAKX+C,KAAK,IAGVpF,KAAKS,KAAK,iBAAiBuC,WAAWgC,EAE1C,CAAE,MAAOK,GACLC,QAAQC,MAAM,6BAA8BF,EAChD,CACJ,EAEAR,kBAAmB,SAAUW,EAAazB,GACtC,IAAKyB,IAAgBzB,GAAcA,EAAWoB,SAAW,EAAG,OAAOK,EAEnE,MAAMT,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,WAC5D,IAAIU,EAAkBD,EAGtBzB,EAAW2B,QAAQ,CAACtB,EAAKO,KACrB,MAAMgB,EAAUvB,EAAI9C,MACpB,IAAKqE,EAAS,OAEd,MAAMC,EAAcD,EAAQzB,QAAQ,sBAAuB,QAC3D,MAAM2B,EAAQ,IAAIC,OAAO,OAAOF,QAAmB,MACnD,MAAMV,EAAQH,EAAOJ,EAAII,EAAOI,QAEhCM,EAAkBA,EAAgBvB,QAAQ2B,EAAOE,GACtC,iCAAiCb,qDAAyDa,SAAa3B,EAAID,yBAI1H,OAAOsB,CACX,EACAO,aAAc,WACV,MAAMvD,EAAmBzC,KAAKQ,iBAAiBqC,iBAC/C,MAAMD,EAAkB5C,KAAKU,gBAAgBmC,iBAC7C7C,KAAKc,YAAY2B,EAAkBG,EACvC,EACAqD,WAAY,WACR,OAAO9G,IAAIC,GAAG8G,QAAQC,MAAM,iBAChC,EACAC,eAAgBrG,iBACZ,IAAIsG,EAAMrG,KAAKiG,aACf,MAAMK,QAAiBC,MAAMF,EAAK,CAC9BG,OAAQ,OACRC,YAAa,UACbC,QAAS,CACL,eAAgB,WAGxB,MAAMC,EAAQL,EAASI,QAAQE,IAAI,gBACnC,OAAOD,CACX,EACAE,cAAe9G,iBACX,MAAM+G,EAAY9G,KAAKS,KAAK,kBAAkBsG,WAC9C,MAAMC,EAAQhH,KAAKM,UACnB,IAAKwG,EAAW,CACZnH,EAAW4F,MAAM,sCACjB,MACJ,CACA,MAAM0B,EAASH,EACV5C,QAAQ,oBAAqB,IAC7BA,QAAQ,WAAY,IACpBgD,OAEL,MAAMC,EAAc,IAAIhI,IAAIiI,EAAExH,WAAW,CACrCwC,MAAO,iBACPiF,KAAM,0CAEVF,EAAYG,OAGZN,EAAMO,QAAQ,YACRC,QAAQC,UAEd,IAEI,IAAIC,EAAM,0hEAyCV1H,KAAKS,KAAK,eAAeuC,WAAW0E,EACxC,CAAE,MAAOrC,GACLC,QAAQC,MAAM,oBAAqBF,GACnC1F,EAAW4F,MAAM,sCAAuCF,EAC5D,CAAE,QACE8B,EAAYQ,QACZX,EAAMO,QAAQ,MAClB,CACJ,EACAK,YAAa7H,eAAgBkH,GACzB,MAAMY,EAAU7H,KAAKiG,aAAe,YACpC,MAAM6B,EAAW9H,KAAKiG,aAAe,wBACrC,IAAI8B,EACJ,MAAMC,EAAOhI,KAAKoG,iBAClBpG,KAAKS,KAAK,eAAeuC,WAAW,IACpC,MAAMiF,EAAa,IAAIC,gBACvB,MAAMC,EAAUC,WAAW,KACvBH,EAAWI,SACZ,KAGH,MAAMC,QAAa/B,MAAMuB,EAAU,CAC/BtB,OAAQ,MACRE,QAAS,CACL,eAAgBsB,EAChB,eAAgB,sBAGxB,IAAKM,EAAKC,GAAI,CACV5I,EAAW4F,MAAM,oBACjB,MACJ,CACA,MAAMiD,QAAoBF,EAAKG,OAC/B,MAAMC,EAASF,EAAYG,KAE3BZ,EAAU,CAAEa,QAAW,oGAEvB,MAAMC,EAAMC,KAAKC,UAAUhB,GAC3B,IACI,MAAMzB,QAAiBC,MAAMsB,EAAS,CAClCrB,OAAQ,OACRE,QAAS,CACL,eAAgBsB,EAChB,eAAgB,oBAEpBgB,KAAMH,IAEVI,aAAad,GAEb,IAAK7B,EAASiC,GAAI,CACd,MAAM,IAAIW,MAAM,uBAAuB5C,EAAS6C,SACpD,CACA,MAAMC,QAAa9C,EAASmC,OAC5B,MAAMY,EAAeD,EAAKE,eAAiB,UAAY,UAAUC,KAAKH,EAAKE,cAC3E,IAAIE,EACJ,IAAKH,EAAc,CACfG,EAAW,yBAAyBJ,EAAKE,kBAC7C,MAEIE,EAAWA,EACP,gFACA,mCACAJ,EAAKK,UACL,SAER,OAAOD,CACX,CAAE,MAAOnE,GACLC,QAAQoE,IAAI,8BAA+BrE,EAC/C,CACJ,EACAsE,WAAY,WACR,MAAMC,EAAW5J,KAAKS,KAAK,iBAC3B,MAAMoJ,EAASD,GAAUE,YAEzB,IAAKD,EAAQ,CACT1K,IAAIiI,EAAE2C,aAAaC,KAAK,mBACxB,MACJ,CAEA,MAAMpB,EAAUiB,EAAOI,UAEvB,GAAIC,WAAWC,WAAavB,EAAS,CACjCsB,UAAUC,UACLC,UAAUxB,GACVyB,KAAK,KACFlL,IAAIiI,EAAE2C,aAAaC,KAAK,8BAE3BM,MAAOjF,IACJC,QAAQC,MAAM,cAAeF,GAC7BlG,IAAIiI,EAAE2C,aAAaC,KAAK,yBAEpC,CACJ,EACAO,aAAcxK,iBACV,IAAKyK,OAAOC,QAAUD,OAAOE,YAAa,CACtCvL,IAAIiI,EAAE2C,aAAaC,KAAK,kCACxB,MACJ,CAEA,MAAMW,MAAEA,GAAUH,OAAOC,MACzB,MAAM3D,EAAY9G,KAAKS,KAAK,kBAAkBsG,YAAc,GAC5D,MAAM6D,EAAY9D,EACb5C,QAAQ,oBAAqB,IAC7BA,QAAQ,WAAY,IACpBgD,OACL,MAAM2C,EAAS7J,KAAKS,KAAK,kBAAkBqJ,YAC3C,IAAKD,EAAQ,CACT1K,IAAIiI,EAAE2C,aAAaC,KAAK,wBACxB,MACJ,CAGA,MAAMa,EAAUC,SAASC,cAAc,OACvCF,EAAQG,MAAMC,MAAQ,QACtBJ,EAAQG,MAAME,QAAU,OACxBL,EAAQG,MAAMG,WAAa,OAC3BN,EAAQG,MAAMI,WAAa,oBAC3BP,EAAQG,MAAMK,SAAW,WACzBR,EAAQG,MAAMM,IAAM,IACpBT,EAAQG,MAAMO,KAAO,UACrBT,SAAS9B,KAAKwC,YAAYX,GAG1B,MAAMY,EAAeX,SAASC,cAAc,OAC5CU,EAAaT,MAAMG,WAAa,8CAChCM,EAAaT,MAAME,QAAU,YAC7BO,EAAaT,MAAMU,aAAe,MAClCD,EAAaT,MAAMW,aAAe,OAClCF,EAAaT,MAAMY,OAAS,oBAE5B,MAAMC,EAAaf,SAASC,cAAc,OAC1Cc,EAAWC,YAAc,aACzBD,EAAWb,MAAMe,SAAW,OAC5BF,EAAWb,MAAMgB,WAAa,OAC9BH,EAAWb,MAAM9F,MAAQ,UACzB2G,EAAWb,MAAMW,aAAe,MAEhC,MAAMM,EAAgBnB,SAASC,cAAc,OAC7CkB,EAAcH,YAAclB,EAC5BqB,EAAcjB,MAAMe,SAAW,OAC/BE,EAAcjB,MAAM9F,MAAQ,OAE5BuG,EAAaD,YAAYK,GACzBJ,EAAaD,YAAYS,GACzBpB,EAAQW,YAAYC,GAGpB,MAAMS,EAAgBrC,EAAOsC,UAAU,MACvCD,EAAclB,MAAMoB,OAAS,IAC7BvB,EAAQW,YAAYU,SAGd,IAAI1E,QAAQC,GAAW4E,sBAAsB5E,IAEnD,IACI,MAAM6E,QAAe5B,YAAYG,EAAS,CACtC0B,MAAO,EACPC,QAAS,KACTC,QAAS,EACTC,YAAa7B,EAAQ8B,YACrBC,OAAQ/B,EAAQgC,eAGpB,MAAMC,EAAUR,EAAOS,UAAU,aACjC,MAAMC,EAAM,IAAIrC,EAAM,IAAK,KAAM,MACjC,MAAMsC,EAAWD,EAAIE,SAASC,SAASC,WACvC,MAAMC,EAAYL,EAAIE,SAASC,SAASG,YAExC,MAAMC,EAAWN,EACjB,MAAMO,EAAalB,EAAOM,OAASK,EAAYX,EAAOrB,MAEtD,IAAIwC,EAAaD,EACjB,IAAInC,EAAW,EAEf2B,EAAIU,SAASZ,EAAS,MAAO,EAAGzB,EAAUkC,EAAUC,GACpDC,GAAcJ,EAEd,MAAOI,EAAa,EAAG,CACnBpC,GAAYgC,EACZL,EAAIW,UACJX,EAAIU,SAASZ,EAAS,MAAO,EAAGzB,EAAUkC,EAAUC,GACpDC,GAAcJ,CAClB,CAEAL,EAAIY,KAAK,kCACTzO,IAAIiI,EAAE2C,aAAaC,KAAK,4BAE5B,CAAE,MAAO3E,GACLC,QAAQC,MAAM,oBAAqBF,GACnClG,IAAIiI,EAAE2C,aAAaC,KAAK,uBAC5B,CAAE,QACEc,SAAS9B,KAAK6E,YAAYhD,EAC9B,CACJ,EACAiD,aAAc/N,iBACV,MAAMgO,EAAa/N,KAAKS,KAAK,kBAC7B,MAAMuN,EAAchO,KAAKS,KAAK,iBAE9B,GAAGsN,EAAYA,EAAWE,eAAe,kBACzC,GAAGD,EAAaA,EAAYC,eAAe,wBAErCjO,KAAKY,uBACLZ,KAAKa,eAEXb,KAAKc,YAAY,iBAAkB,gBAEnC,MAAMoN,EAAiBlO,KAAKS,KAAK,kBACjC,GAAGyN,EAAgBA,EAAepJ,SAAS,IAE3C,MAAMqJ,EAAUnO,KAAKS,KAAK,iBAC1B,GAAG0N,EACC,CACInO,KAAKS,KAAK,cAAcuC,WAAW,IACnCmL,EAAQnL,WAAW,GAEvB,CAEJ,MAAMoL,EAAepO,KAAKS,KAAK,eAC/B,GAAG2N,EAAcA,EAAapL,WAAW,IAEzC,MAAMqL,EAAiBrO,KAAKS,KAAK,iBACjC,GAAG4N,EAAgBA,EAAerL,aAAa,MAAQqL,EAAeC,UAAU,IAAI,KACxF","ignoreList":[]}