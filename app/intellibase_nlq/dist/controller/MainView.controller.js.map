{"version":3,"file":"MainView.controller.js","names":["sap","ui","define","Controller","JSONModel","Filter","FilterOperator","StandardListItem","MessageBox","BusyDialog","extend","onInit","async","this","_oODataModel","getOwnerComponent","getModel","_oCategoryModel","_oProductModel","getView","setModel","_oCategorySelect","byId","_oProductSelect","_oPromptList","loadCategories","loadProducts","loadPrompts","oBinding","bindContext","execute","result","getBoundContext","getObject","aCategories","value","unshift","category","oJSONModel","aProducts","product","aFilters","push","EQ","getBinding","filter","bindItems","path","template","title","description","filters","onCategoryChange","oEvent","selectedCategory","getParameter","getKey","selectedProduct","getSelectedKey","onProductChange","onSelectPrompt","setVisible","setContent","oContext","getBindingContext","oData","sPrompt","prompt","oModel","oFunction","setParameter","oResult","keyEntries","Object","entries","key","startsWith","aKeyFields","map","index","replace","number","obj","toLowerCase","indexOf","Boolean","sort","a","b","i","sHighlightedPrompt","highlightKeywords","setValue","colors","containerStyle","sLegendHtml","k","color","length","desc","String","join","err","console","error","sPromptText","highlightedText","forEach","keyword","safeKeyword","regex","RegExp","match","onSearchLive","getBaseUrl","require","toUrl","fetchCsrfToken","url","response","fetch","method","credentials","headers","token","get","onPressButton","userInput","getValue","oView","sInput","trim","oBusyDialog","m","text","open","setBusy","Promise","resolve","resp","onfetchData","close","chatUrl","thisUser","csrf","controller","AbortController","timeout","setTimeout","abort","user","ok","userDetails","json","log","bankId","name","payload","message","body","JSON","stringify","signal","clearTimeout","Error","status","data","sFinalResult","FINAL_RESULT","sSQLQuery","SQL_QUERY","bIsHtml","test","sSafeFinalResult","sSqlHtml","sCombinedHtml","_escapeHtml","s","onChatCopy","oChatBox","domRef","getDomRef","MessageToast","show","innerText","navigator","clipboard","writeText","then","catch","onChatExport","window","jspdf","html2canvas","jsPDF","plainText","wrapper","document","createElement","style","width","padding","background","fontFamily","position","top","left","appendChild","userInputBox","borderRadius","marginBottom","border","headerText","textContent","fontSize","fontWeight","userInputText","responseClone","cloneNode","resHeader","querySelector","remove","margin","requestAnimationFrame","canvas","scale","useCORS","scrollY","windowWidth","scrollWidth","height","scrollHeight","imgData","toDataURL","pdf","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","imgWidth","imgHeight","heightLeft","addImage","addPage","save","removeChild","onPressReset","oCatSelect","oProdSelect","setSelectedKey","editablePrompt","oLegend","oHtmlContent","oChatBotResult","setText"],"sources":["MainView-dbg.controller.js"],"mappings":"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","ignoreList":[]}